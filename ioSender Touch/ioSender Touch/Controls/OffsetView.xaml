<UserControl x:Class="ioSenderTouch.Controls.OffsetView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:system="clr-namespace:System;assembly=mscorlib"
             xmlns:controls="clr-namespace:ioSenderTouch.Controls"
             xmlns:grblCore="clr-namespace:ioSenderTouch.GrblCore"
             xmlns:viewModels="clr-namespace:ioSenderTouch.ViewModels"
             mc:Ignorable="d" 
             d:DataContext="{d:DesignInstance Type=viewModels:OffsetViewModel, IsDesignTimeCreatable=True}"
             d:DesignHeight="515" d:DesignWidth="1000">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="SharedStyles.xaml"/>
                <!--<ResourceDictionary>
                    <FrameworkElement x:Key="ProxyElement" DataContext="{Binding .GrblViewModel}"/>
                </ResourceDictionary>-->
            </ResourceDictionary.MergedDictionaries>
            <system:String x:Uid="lbl_axis" x:Key="AxisLabel">{0} axis:</system:String>
            <controls:LogicalNotConverter x:Key="IsNotPredefined" />
        </ResourceDictionary>
    </UserControl.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" ></ColumnDefinition>
            <ColumnDefinition Width ="*"></ColumnDefinition>
        </Grid.ColumnDefinitions>
        <Border Grid.Column="0"  Margin="2" BorderThickness="2">
        <ListView  HorizontalAlignment="Left" VerticalAlignment="Top" SelectedItem="{Binding SelectedOffset}"
                  ItemsSource="{Binding Coordinates}">
          
            <ListView.View>
                <GridView  >
                    <GridViewColumn  
                        DisplayMemberBinding="{Binding Code}"
                        Header="ID" Width="100" />
                    <GridViewColumn
                        DisplayMemberBinding="{Binding X }"
                        Header="X" Width="150" />
                    <GridViewColumn
                        DisplayMemberBinding="{Binding  Y}"
                        Header="Y" Width="150" />
                    <GridViewColumn
                        DisplayMemberBinding="{Binding  Z}"
                        Header="Z" Width="150" />
                </GridView>
            </ListView.View>
        </ListView>
        </Border>
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
            </Grid.RowDefinitions>
            <StackPanel Margin="0,20,0,0" Grid.Row="0" Orientation="Horizontal">
                <Label FontSize="22" Content="{Binding Offset.Code}" ContentStringFormat="Offset: {0}" ></Label>
            </StackPanel>
            <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,3" >
                <Label FontSize="22" Content="X axis:"></Label>
                <TextBox FontSize="22" Text="{Binding Offset.X}" Width="75"/>
                <Button Content="Set" IsEnabled ="{Binding IsPredefined, Converter={StaticResource IsNotPredefined}}"
                        Command="{Binding SetOffsetCommand}" CommandParameter="X"/>
            </StackPanel>
            <StackPanel Grid.Row="2" Orientation="Horizontal"  Margin="0,3">
                <Label FontSize="22" Content="Y axis:"></Label>
                <TextBox FontSize="22" Text="{Binding Offset.Y}" Width="75"/>
                <Button Content="Set" IsEnabled ="{Binding IsPredefined, Converter={StaticResource IsNotPredefined}}"
                        Command="{Binding SetOffsetCommand}" CommandParameter="Y"/>
            </StackPanel>
            <StackPanel Grid.Row="3" Orientation="Horizontal" Margin="0,3" >
                <Label FontSize="22" Content="Z axis:"></Label>
                <TextBox FontSize="22" Text="{Binding Offset.Z}" Width="75"/>
                <Button Content="Set" IsEnabled ="{Binding IsPredefined, Converter={StaticResource IsNotPredefined}}"
                        Command="{Binding SetOffsetCommand}" CommandParameter="Z"/>
            </StackPanel>
            <StackPanel Grid.Row="4" Orientation="Horizontal" Margin="0,10,0,0"
                        IsEnabled ="{Binding IsPredefined, Converter={StaticResource IsNotPredefined}}">
                <Button Margin="0,0,5,0" Content="Get Current" Command="{Binding GetCurrPosCommand}" />
                <Button Margin="0,0,5,0" Content="Clear All" Command="{Binding ClearAllCommand}" />
                <Button Content="Set All" Command="{Binding SetAllCommand}" />
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>
